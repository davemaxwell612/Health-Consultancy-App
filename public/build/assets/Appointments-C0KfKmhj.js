import{r as w,c as D,w as v,o as i,a as e,f as u,g as A,e as n,x as l,u as c,v as T,t as p,F as k}from"./app-Csc8Y_wI.js";import{_ as C}from"./AuthenticatedLayout-BzXmDu_-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"flex flex-col items-center justify-center bg-gray-100 p-4"},M={class:"table-auto w-full border-collapse border border-gray-300"},B={class:"flex flex-col items-center justify-center"},j=["onUpdate:modelValue"],N={class:"border border-gray-300 px-4 py-2"},S={class:"border border-gray-300 px-4 py-2"},U={class:"border border-gray-300 px-4 py-2"},V={class:"border border-gray-300 px-4 py-2 flex flex-col"},F=["onClick"],O={__name:"Appointments",props:{appointments:Object},setup(_){let o=w(!1);const b=a=>new Date(a).toLocaleString(),m=()=>{o.value=!o.value},f=a=>{const t=a.clients_date_and_time;axios.post(`/doctor-reschedule-appointment/${a.id}`,{doctorDateAndTime:t}).then(s=>{s.status===200&&(o.value=!o.value)})},y=a=>{const t=new Date,r=new Date(a)-t;if(r<=0)return"Appointment has passed";const d=Math.floor(r/(1e3*60*60*24)),x=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(r%(1e3*60*60)/(1e3*60)),h=Math.floor(r%(1e3*60)/1e3);return`${d}d ${x}h ${g}m ${h}s left`};return(a,t)=>(i(),D(C,null,{default:v(()=>[e("div",$,[t[2]||(t[2]=e("h1",{class:"text-3xl font-semibold text-teal-900 mb-4"},"Upcoming appointments",-1)),e("table",M,[t[1]||(t[1]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border border-gray-300 px-4 py-2"},"Appointment Date/Time"),e("th",{class:"border border-gray-300 px-4 py-2"},"Reason"),e("th",{class:"border border-gray-300 px-4 py-2"},"Countdown"),e("th",{class:"border border-gray-300 px-4 py-2"},"Action")])],-1)),e("tbody",null,[(i(!0),u(k,null,A(_.appointments,(s,r)=>(i(),u("tr",{key:r},[n(e("div",B,[t[0]||(t[0]=e("label",{for:"newTimeAndDate"},"New time and date",-1)),n(e("input",{type:"datetime-local",id:"newTimeAndDate",name:"newTimeAndDate","onUpdate:modelValue":d=>s.clients_date_and_time=d,class:"border border-gray-300 px-4 py-2"},null,8,j),[[T,s.clients_date_and_time]])],512),[[l,c(o)]]),e("td",N,p(b(s.clients_date_and_time)),1),e("td",S,p(s.reason),1),e("td",U,p(y(s.clients_date_and_time)),1),e("td",V,[n(e("button",{onClick:m,href:"#",class:"text-green-700"}," Reschedule ",512),[[l,!c(o)]]),n(e("button",{onClick:d=>f(s),class:"text-green-700 bg-green-100 my-1"}," save ",8,F),[[l,c(o)]]),n(e("button",{onClick:m,class:"text-red-700 bg-red-100 my-1"}," Cancel ",512),[[l,c(o)]])])]))),128))])])])]),_:1}))}};export{O as default};
