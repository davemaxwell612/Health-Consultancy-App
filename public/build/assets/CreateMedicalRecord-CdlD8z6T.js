import{r as a,i as x,c as y,o as u,w,a as s,d as h,e as d,f as m,j as k,k as U,v as n,u as V,F as C,g as M,t as _,h as E}from"./app-0wxm1s3m.js";import{_ as R}from"./AuthenticatedLayout-DvPE0OAQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg"},B={class:"relative"},D={key:0,class:"h-12 overflow-hidden bg-white border rounded mt-1 w-full max-h-40 overflow-y-auto z-10"},F=["onClick"],L={class:"mb-4"},N={class:"mb-4"},T={class:"mb-4"},j={class:"mb-4"},A={class:"mb-4"},G={__name:"CreateMedicalRecord",props:{users:Array},setup(p){const o=a({diagnosis:"",medications:"",test_results:"",notes:"",conducted_on:""});let b=p,r=a("");a("");let f=a("");a("");let i=a("");const c=x(()=>b.users.filter(l=>l.username.toLowerCase().includes(r.value.toLowerCase()))),v=l=>{f.value=l,r.value=l.username,i.value=l},g=()=>{console.log(i.value.id);let l={user_id:i.value.id,...o.value};E.post("/doctor-update-medical-records",l).then(e=>{alert("Medical record saved successfully!")}).catch(e=>{console.error("Error saving record:",e)})};return(l,e)=>(u(),y(R,null,{default:w(()=>[s("div",S,[e[13]||(e[13]=s("h1",{class:"text-2xl font-bold mb-4"},"Medical Records Management",-1)),s("form",{onSubmit:h(g,["prevent"])},[s("div",B,[e[6]||(e[6]=s("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Search User:",-1)),d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>U(r)?r.value=t:r=t),id:"search",type:"search",placeholder:"Search by name",class:"w-full border-gray-300 border rounded px-4 py-2 my-2",required:""},null,512),[[n,V(r)]]),c.value.length>0?(u(),m("ul",D,[(u(!0),m(C,null,M(c.value,t=>(u(),m("li",{key:t.id,class:"px-4 py-2 cursor-pointer hover:bg-gray-200",onClick:q=>v(t)},_(t.username),9,F))),128))])):k("",!0)]),s("div",L,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-gray-700"},"Test conducted on:",-1)),d(s("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.conducted_on=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500"},null,512),[[n,o.value.conducted_on]])]),s("div",N,[e[8]||(e[8]=s("label",{class:"block text-sm font-medium text-gray-700"},"Diagnosis",-1)),d(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.diagnosis=t),class:"w-full h-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500",placeholder:"Enter diagnosis"},null,512),[[n,o.value.diagnosis]])]),s("div",T,[e[9]||(e[9]=s("label",{class:"block text-sm font-medium text-gray-700"},"Medications",-1)),d(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.medications=t),class:"w-full h-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500",placeholder:"Enter prescribed medications"},null,512),[[n,o.value.medications]])]),s("div",j,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700"},"Test Results",-1)),d(s("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.test_results=t),class:"w-full h-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500",placeholder:"Enter test results"},null,512),[[n,o.value.test_results]])]),s("div",A,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"Additional Notes",-1)),d(s("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.notes=t),class:"w-full h-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500",placeholder:"Enter any additional notes"},null,512),[[n,o.value.notes]])]),e[12]||(e[12]=s("div",{class:"flex justify-end"},[s("button",{type:"submit",class:"px-4 py-2 bg-teal-500 text-white font-semibold rounded-lg shadow hover:bg-teal-600 transition"}," Save Record ")],-1))],32)])]),_:1}))}};export{G as default};
