import{r as d,c,w as p,o,a as t,t as l,n as r,f as u,h as y}from"./app-CDplr3Qf.js";import{_ as x}from"./AuthenticatedLayout-83qf-wEK.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={class:"container mx-auto p-6"},v={class:"bg-white shadow-lg rounded-lg overflow-hidden"},g={class:"p-6 bg-gray-50"},w={class:"min-w-full table-auto"},h={class:"px-4 py-2"},P={class:"px-4 py-2"},k={class:"px-4 py-2"},D={class:"p-6"},N={class:"min-w-full table-auto border-separate border-spacing-2"},I={class:"px-4 py-2"},B={class:"px-4 py-2"},z={class:"px-4 py-2"},C={class:"px-4 py-2"},F={class:"px-4 py-2"},j={class:"px-4 py-2 text-teal-900 font-semibold"},E={class:"px-4 py-2"},O={class:"p-6 bg-teal-900 text-white text-center"},S=["disabled"],_={key:0},A={key:1},G={__name:"PaystackPayment",props:{invoice:Object,user:Object},setup(e){d("");let n=e;const a=d(!1),m=async()=>{a.value=!0;const i={user:n.user,invoice:n.invoice};try{const s=await y.post("/pay",i);s.data.authorization_url&&(window.location.href=s.data.authorization_url)}catch(s){alert("Payment failed: "+s.response.data.error)}finally{a.value=!1}};return(i,s)=>(o(),c(x,null,{default:p(()=>[t("div",b,[t("div",v,[s[14]||(s[14]=t("div",{class:"bg-teal-900 text-white text-center p-4"},[t("h1",{class:"text-2xl font-semibold"},"Payment Details"),t("p",{class:"text-lg"},"Please review your plan and payment details below")],-1)),t("div",g,[s[4]||(s[4]=t("h2",{class:"text-xl font-semibold mb-4"},"User Information",-1)),t("table",w,[s[3]||(s[3]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-gray-700"},"Field"),t("th",{class:"px-4 py-2 text-left text-gray-700"},"Details")])],-1)),t("tbody",null,[t("tr",null,[s[0]||(s[0]=t("td",{class:"px-4 py-2 font-medium"},"Full Name",-1)),t("td",h,l(e.user.surname+" "+e.user.otherNames),1)]),t("tr",null,[s[1]||(s[1]=t("td",{class:"px-4 py-2 font-medium"},"Phone Number",-1)),t("td",P,l(e.user.tel),1)]),t("tr",null,[s[2]||(s[2]=t("td",{class:"px-4 py-2 font-medium"},"Email",-1)),t("td",k,l(e.user.email),1)])])])]),t("div",D,[s[13]||(s[13]=t("h2",{class:"text-xl font-semibold mb-4"},"Plan Information",-1)),t("table",N,[s[12]||(s[12]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-gray-700"},"Field"),t("th",{class:"px-4 py-2 text-left text-gray-700"},"Details")])],-1)),t("tbody",null,[t("tr",null,[s[5]||(s[5]=t("td",{class:"px-4 py-2 font-medium"},"Plan Name",-1)),t("td",I,l(e.invoice.name),1)]),t("tr",null,[s[6]||(s[6]=t("td",{class:"px-4 py-2 font-medium"},"Duration",-1)),t("td",B,l(e.invoice.duration)+" months",1)]),t("tr",null,[s[7]||(s[7]=t("td",{class:"px-4 py-2 font-medium"},"Invoice Number",-1)),t("td",z,l(e.invoice.invoice_number),1)]),t("tr",null,[s[8]||(s[8]=t("td",{class:"px-4 py-2 font-medium"},"Invoice Generated on",-1)),t("td",C,l(e.invoice.generated_at),1)]),t("tr",null,[s[9]||(s[9]=t("td",{class:"px-4 py-2 font-medium"},"Due Date",-1)),t("td",F,l(e.invoice.due_date),1)]),t("tr",null,[s[10]||(s[10]=t("td",{class:"px-4 py-2 font-medium"},"Amount",-1)),t("td",j,l(e.invoice.amount)+" "+l(e.invoice.currency),1)]),t("tr",null,[s[11]||(s[11]=t("td",{class:"px-4 py-2 font-medium"},"Status",-1)),t("td",E,[t("span",{class:r([{"text-green-600":e.invoice.status==="Paid","text-red-600":e.invoice.status==="unpaid"},"font-semibold"])},l(e.invoice.status),3)])])])])]),t("div",O,[t("button",{onClick:m,disabled:a.value,class:r(["bg-yellow-500 text-black px-6 py-2 rounded-lg font-semibold transition duration-300",{"bg-yellow-400 cursor-not-allowed":a.value,"hover:bg-yellow-400":!a.value}])},[a.value?(o(),u("span",_,"Redirecting to paystack...")):(o(),u("span",A,"Proceed with Payment"))],10,S)])])])]),_:1}))}},W=f(G,[["__scopeId","data-v-625880bc"]]);export{W as default};
