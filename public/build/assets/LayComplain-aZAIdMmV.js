import{r as i,C as y,c as w,o as d,w as p,a as t,b,u as n,P as j,d as C,e as m,n as k,f,F as h,g as D,t as S,l as B,v as c,h as V}from"./app-0wxm1s3m.js";import{_ as T}from"./AuthenticatedLayout-DvPE0OAQ.js";import{_ as L}from"./ResponseMessage-BcNuiinh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex justify-start mt-4"},P=["value"],U={class:"mb-6"},z={__name:"LayComplain",props:{departments:""},setup(g){let s=i(""),v=g,l=y({complaint:"",subject:""});const r=i(""),o=i(""),x=async()=>{if(!r.value||!l.complaint||!l.subject){s="Please fill out all fields",o.value="bg-red-500",setTimeout(()=>{s.value="",o.value=""},3e3);return}try{await V.post("patient-lay-complain",{department_id:r.value,message:l.complaint,subject:l.subject}).then(u=>{u.status===200&&(r.value="",l.reset(),s.value=u.data.message,o.value="bg-green-500",setTimeout(()=>{s.value="",o.value=""},3e3))})}catch(u){s.value=u,o.value="bg-red-500",setTimeout(()=>{s.value="",o.value=""},3e3)}};return(u,e)=>(d(),w(T,null,{default:p(()=>[t("div",M,[b(n(j),{href:"/patient-messages",class:"text-white"},{default:p(()=>e[3]||(e[3]=[t("button",{class:"bg-blue-500 my-3 text-white font-semibold py-2 px-6 rounded-lg shadow-lg hover:bg-teal-600 transition duration-300"}," Back ",-1)])),_:1})]),e[9]||(e[9]=t("div",null,[t("h1",{class:"text-2xl font-bold mb-4 text-center"},"Lay a Colain ")],-1)),t("form",{onSubmit:C(x,["prevent"]),class:"max-w-lg mx-auto p-4 bg-white shadow rounded-lg"},[b(L,{response:n(s),class:k(o.value)},null,8,["response","class"]),e[6]||(e[6]=t("label",{class:"block mb-2 text-gray-700"},"Department",-1)),m(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),class:"w-full p-2 border rounded focus:outline-none focus:ring"},[e[4]||(e[4]=t("option",{value:"",disabled:""},"Select a department",-1)),(d(!0),f(h,null,D(n(v).departments,a=>(d(),f("option",{key:a.id,value:a.id},S(a.name),9,P))),128))],512),[[B,r.value]]),t("div",U,[e[5]||(e[5]=t("label",{for:"subject",class:"block text-lg font-medium text-gray-700 mb-2"},"Complaint",-1)),m(t("input",{type:"text",id:"subject",name:"subject","onUpdate:modelValue":e[1]||(e[1]=a=>n(l).subject=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500 transition duration-300",placeholder:"e.g Stomach pain | Headache | Difficulty in breathing"},null,512),[[c,n(l).subject]])]),e[7]||(e[7]=t("label",{class:"block mt-4 mb-2 text-gray-700"},"Complaint",-1)),m(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>n(l).complaint=a),class:"w-full p-2 border rounded focus:outline-none focus:ring",rows:"4",placeholder:"Describe your complaint",required:""},null,512),[[c,n(l).complaint]]),e[8]||(e[8]=t("button",{type:"submit",class:"mt-4 w-full bg-teal-900 text-white py-2 rounded-lg hover:bg-teal-800"}," Submit Complaint ",-1))],32)]),_:1}))}};export{z as default};
