import{r as v,c as D,o as c,w as m,a as e,b as A,u as r,P as k,f as b,F as T,g as C,e as l,v as $,x as i,t as p}from"./app-C3ElFcIz.js";import{_ as B}from"./AuthenticatedLayout-B_MMSaLZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex flex-col items-center justify-center bg-gray-100 p-4"},j={class:"w-full flex items-center justify-end my-3"},N={class:"table-auto w-full border-collapse border border-gray-300"},V={class:"flex flex-col items-center justify-center"},F=["onUpdate:modelValue"],P={class:"border border-gray-300 px-4 py-2"},S={class:"border border-gray-300 px-4 py-2"},U={class:"border border-gray-300 px-4 py-2"},L={class:"border border-gray-300 px-4 py-2 flex flex-col"},R=["onClick"],z={__name:"Appointments",props:{appointments:Object},setup(f){let s=v(!1);const _=a=>new Date(a).toLocaleString(),u=()=>{s.value=!s.value},y=a=>{const t=a.clients_date_and_time;axios.post(`/doctor-reschedule-appointment/${a.id}`,{doctorDateAndTime:t}).then(o=>{o.status===200&&(s.value=!s.value)})},g=a=>{const t=new Date,n=new Date(a)-t;if(n<=0)return"Appointment has passed";const d=Math.floor(n/(1e3*60*60*24)),x=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),h=Math.floor(n%(1e3*60*60)/(1e3*60)),w=Math.floor(n%(1e3*60)/1e3);return`${d}d ${x}h ${h}m ${w}s left`};return(a,t)=>(c(),D(B,null,{default:m(()=>[e("div",M,[t[3]||(t[3]=e("h1",{class:"text-3xl font-semibold text-teal-900 mb-4"},"Upcoming appointments",-1)),e("div",j,[A(r(k),{href:"patient-book-appointment"},{default:m(()=>t[0]||(t[0]=[e("button",{class:"bg-gray-900 text-white py-2 px-6 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-600"}," Book Appointment For a Patient ",-1)])),_:1})]),e("table",N,[t[2]||(t[2]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border border-gray-300 px-4 py-2"},"Appointment Date/Time"),e("th",{class:"border border-gray-300 px-4 py-2"},"Reason"),e("th",{class:"border border-gray-300 px-4 py-2"},"Countdown"),e("th",{class:"border border-gray-300 px-4 py-2"},"Action")])],-1)),e("tbody",null,[(c(!0),b(T,null,C(f.appointments,(o,n)=>(c(),b("tr",{key:n},[l(e("div",V,[t[1]||(t[1]=e("label",{for:"newTimeAndDate"},"New time and date",-1)),l(e("input",{type:"datetime-local",id:"newTimeAndDate",name:"newTimeAndDate","onUpdate:modelValue":d=>o.clients_date_and_time=d,class:"border border-gray-300 px-4 py-2"},null,8,F),[[$,o.clients_date_and_time]])],512),[[i,r(s)]]),e("td",P,p(_(o.clients_date_and_time)),1),e("td",S,p(o.reason),1),e("td",U,p(g(o.clients_date_and_time)),1),e("td",L,[l(e("button",{onClick:u,href:"#",class:"text-green-700"}," Reschedule ",512),[[i,!r(s)]]),l(e("button",{onClick:d=>y(o),class:"text-green-700 bg-green-100 my-1"}," save ",8,R),[[i,r(s)]]),l(e("button",{onClick:u,class:"text-red-700 bg-red-100 my-1"}," Cancel ",512),[[i,r(s)]])])]))),128))])])])]),_:1}))}};export{z as default};
