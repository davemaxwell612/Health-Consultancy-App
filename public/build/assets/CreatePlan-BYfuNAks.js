import{C as x,r as c,c as w,w as y,o as m,a as t,b as k,u as s,n as P,d as C,e as d,v as u,f as g,g as h,F,h as V}from"./app-CnGnIz6x.js";import{_}from"./AuthenticatedLayout-DkFwCGlN.js";import{_ as E}from"./ResponseMessage-H7VRU_Qi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"container mx-auto p-6"},U={class:"mb-4"},q={class:"mb-4"},B={class:"mb-4"},D={class:"mb-4"},N=["onUpdate:modelValue"],$=["onClick"],S={__name:"CreatePlan",setup(M){let l=x({title:"",description:"",price:"",features:[]}),a=c(""),n=c(""),p=()=>{l.features.push("")},v=r=>{l.features.splice(r,1)},b=async()=>{await V.post("/admin-add-plan",{form:l}).then(r=>{r&&(a.value=r.data.message,n.value="bg-green-400",setTimeout(()=>{a.value="",n.value=""},3e3),l.reset())}).catch(r=>{r&&(a.value=`Couldn't save Plan 
 Please make sure Plan doesn't already exist`,n.value="bg-red-400",setTimeout(()=>{a.value="",n.value=""},3e3))})};return(r,e)=>(m(),w(_,null,{default:y(()=>[t("div",T,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold mb-4"},"Create a New Plan",-1)),k(E,{response:s(a),class:P(s(n))},null,8,["response","class"]),t("form",{onSubmit:e[4]||(e[4]=C((...o)=>s(b)&&s(b)(...o),["prevent"]))},[t("div",U,[e[5]||(e[5]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Plan Title",-1)),d(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>s(l).title=o),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter Plan Title",required:""},null,512),[[u,s(l).title]])]),t("div",q,[e[6]||(e[6]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Plan Description",-1)),d(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=o=>s(l).description=o),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter Plan Description",required:""},null,512),[[u,s(l).description]])]),t("div",B,[e[7]||(e[7]=t("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"Plan Price",-1)),d(t("input",{type:"number",id:"price","onUpdate:modelValue":e[2]||(e[2]=o=>s(l).price=o),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter Plan Price",step:"0.01",required:""},null,512),[[u,s(l).price]])]),t("div",D,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Features",-1)),(m(!0),g(F,null,h(s(l).features,(o,i)=>(m(),g("div",{key:i,class:"flex items-center mb-2"},[d(t("input",{type:"text","onUpdate:modelValue":f=>s(l).features[i]=f,class:"flex-1 border-gray-300 rounded-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter Feature",required:""},null,8,N),[[u,s(l).features[i]]]),t("button",{type:"button",onClick:f=>s(v)(i),class:"ml-2 text-red-500 hover:text-red-700"}," Remove ",8,$)]))),128)),t("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>s(p)&&s(p)(...o)),class:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600"}," Add Feature ")]),e[9]||(e[9]=t("button",{type:"submit",class:"w-full px-4 py-2 bg-green-500 text-white font-bold rounded-lg shadow hover:bg-green-600"}," Create Plan ",-1))],32)])]),_:1}))}};export{S as default};
